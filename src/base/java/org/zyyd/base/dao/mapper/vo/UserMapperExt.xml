<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="org.zyyd.base.dao.vo.UserMapperExt" >


  <resultMap id="BasePermissionMap" type="org.zyyd.base.entity.BasePermission">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    <id column="PERMISSION_ID" jdbcType="VARCHAR" property="permissionId" />
    <result column="PERMISSION_NAME" jdbcType="VARCHAR" property="permissionName" />
    <result column="CODE" jdbcType="VARCHAR" property="code" />
    <result column="PARENT_CODE" jdbcType="VARCHAR" property="parentCode" />
    <result column="PERMISSION_URL" jdbcType="VARCHAR" property="permissionUrl" />
    <result column="PERMISSION_DESC" jdbcType="VARCHAR" property="permissionDesc" />
    <result column="CRE_USER" jdbcType="VARCHAR" property="creUser" />
    <result column="MOD_USER" jdbcType="VARCHAR" property="modUser" />
    <result column="CRE_TIME" jdbcType="TIMESTAMP" property="creTime" />
    <result column="MOD_TIME" jdbcType="TIMESTAMP" property="modTime" />
    <result column="DELETE_FLAG" jdbcType="INTEGER" property="deleteFlag" />
  </resultMap>




    <select id="selectRolePermissionByRoleCode" resultMap="BasePermissionMap" parameterType="java.lang.String">
      SELECT
	tp.*

  FROM
      base_role_permission_map trp LEFT JOIN base_permission tp ON trp.permission_code = tp.code
  WHERE
      1 = 1
  AND trp.role_code = #{roleCode,jdbcType=VARCHAR}
  and tp.DELETE_FLAG = '0'
  </select>











</mapper>